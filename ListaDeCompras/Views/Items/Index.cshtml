@model IEnumerable<ListaDeCompras.Models.Item>



@{
    ViewBag.Title = "Lista de Produtos";
}

<div class="container-section">
    <h2>Lista de Produtos:</h2>

    <div class="btn bg-secondary my-5">
        @Html.ActionLink("Add Item", "Create", routeValues: null, htmlAttributes: new { @class = "nav-link"})
    </div>
    <table class="table">
        <tr class="">
            <th>
                @Html.DisplayNameFor(model => model.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Preco)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Imagem)
            </th>
            <th>
                <b>Ações</b>
            </th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Nome)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Preco)
                </td>
                <td>
                    @{
                        if (item.ImagemDB != null)
                        {

                            var base64 = Convert.ToBase64String(item.ImagemDB);
                            var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                                        <div class="container-img">
                                            <img src="@imgSrc" class="imgList" />
                                        </div>
                            }

                    }


                </td>
                <td>
                    @Html.ActionLink("Editar", "Edit", new { id = item.Id }) |
                    @Html.ActionLink("Detalhes", "Details", new { id = item.Id }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                </td>
            </tr>
        }

    </table>
</div>